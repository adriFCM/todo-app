{% extends "base.html" %}
{% block content %}

<h2 style="margin:12px 0 14px;">{{ mode }} Task</h2>

{% if form.errors %}
  <div class="form-errors" style="
       background:#fff3f3; border:1px solid #ffd6d6; color:#6b0000;
       padding:12px 14px; border-radius:12px; margin-bottom:12px;">
    <ul style="margin:0 0 0 16px;">
      {# show any non-field errors first #}
      {% for e in form.non_field_errors %}
        <li>{{ e }}</li>
      {% endfor %}
      {# show field errors with human labels #}
      {% for bf in form %}
        {% for e in bf.errors %}
          <li><strong>{{ bf.label }}</strong>: {{ e }}</li>
        {% endfor %}
      {% endfor %}
    </ul>
  </div>
{% endif %}

<form method="post" class="card form" style="
      background:#fff; border:1px solid #e5e5ea; border-radius:16px;
      box-shadow:0 1px 2px rgba(0,0,0,.05),0 8px 24px rgba(0,0,0,.06);
      padding:14px;">
  {% csrf_token %}
  {{ form.as_p }}

  <div style="margin-top:12px; display:flex; gap:10px;">
    <button type="submit" class="btn btn-primary">{{ mode }}</button>
    <a href="{% url 'task_list' %}" class="btn btn-ghost">Cancel</a>
  </div>
</form>

{% endblock %}
